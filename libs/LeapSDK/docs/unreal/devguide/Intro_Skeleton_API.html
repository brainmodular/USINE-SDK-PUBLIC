


  
  
 
  
  
 


<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introducing the Skeletal Tracking Model &mdash; Leap Motion Unreal SDK v2.3 documentation</title>
    
    <link rel="stylesheet" href="../../cpp/_static/bootstrap-3.0.0/css/documentation-bundle.1439949735.css" type="text/css" />
    
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
      <script type="text/javascript" src="../../cpp/_static/bootstrap-3.0.0/js/documentation-bundle.1439949735.js"></script>
    <link rel="top" title="Leap Motion Unreal SDK v2.3 documentation" href="../index.html" />
<script type="text/javascript" src="/assets/standalone-header.js?r9"></script>
<link rel="stylesheet" href="/assets/standalone-header.css?r9" type="text/css" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31536531-1']);
  _gaq.push(['_setDomainName', 'leapmotion.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

 

<script>

    function getQueryValue(variable)
    {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }
        var relPath = "../../";

    var requestedAPI = getQueryValue("proglang");
    if(requestedAPI == "current") requestedAPI = localStorage["currentAPI"];
    var pageAPI = 'unreal';
    var hasAPI = {};
    hasAPI.cpp = true;
    hasAPI.csharp = true;
    hasAPI.objc = true;
    hasAPI.java = true;
    hasAPI.javascript = true;
    hasAPI.python = true;

    if(requestedAPI && (requestedAPI != pageAPI))
    {
        if(pageAPI != 'none'){
            var redirectedLocation = relPath + 'unreal/devguide/Intro_Skeleton_API.html';
            if( requestedAPI == 'cpp' && hasAPI.cpp){
                redirectedLocation = relPath + "cpp/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'csharp' && hasAPI.csharp){
                redirectedLocation = relPath + "csharp/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'unity' && hasAPI.unity){
                redirectedLocation = relPath + "unity/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'objc' && hasAPI.objc){
                redirectedLocation = relPath + "objc/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'java' && hasAPI.java) {
                redirectedLocation = relPath + "java/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'javascript' && hasAPI.javascript){
                redirectedLocation = relPath + "javascript/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'python' && hasAPI.python){
                redirectedLocation = relPath + "python/devguide/Intro_Skeleton_API.html";
            }
            else if( requestedAPI == 'unreal' && hasAPI.unreal) {
                redirectedLocation = relPath + "unreal/devguide/Intro_Skeleton_API.html";
            } else {

                    if( requestedAPI == 'cpp'){
                        redirectedLocation = relPath + "cpp/index.html?proglang=cpp";
                    }
                    else if( requestedAPI == 'csharp'){
                        redirectedLocation = relPath + "csharp/index.html?proglang=csharp";
                    }
                    else if( requestedAPI == 'unity'){
                        redirectedLocation = relPath + "unity/index.html?proglang=unity";
                    }
                    else if( requestedAPI == 'objc'){
                        redirectedLocation = relPath + "objc/index.html?proglang=objc";
                    }
                    else if( requestedAPI == 'java') {
                        redirectedLocation = relPath + "java/index.html?proglang=java";
                    }
                    else if( requestedAPI == 'javascript'){
                        redirectedLocation = relPath + "javascript/index.html?proglang=javascript";
                    }
                    else if( requestedAPI == 'python'){
                        redirectedLocation = relPath + "python/index.html?proglang=python";
                    }
                    else if( requestedAPI == 'unreal') {
                        redirectedLocation = relPath + "unreal/index.html?proglang=unreal";
                    } else {
                        redirectedLocation = relPath + "index.html";
                    }
            }

            //Guard against redirecting to the same page (infinitely)
            if(relPath + 'unreal/devguide/Intro_Skeleton_API.html' != redirectedLocation) window.location.replace(redirectedLocation);
        }
    }

</script>

<script>
window.addEventListener('keyup', handleKeyInput);
function handleKeyInput(e)
{
    var code;
    if (!e) var e = window.event;
    if (e.keyCode) code = e.keyCode;
    else if (e.which) code = e.which;
    var character = String.fromCharCode(code);
    if( character == "J" & e.altKey){    }
    else if( character == "K" & e.altKey){
    }

}
</script>


  </head>
  <body role="document">

<div class="developer-portal-styles">
  <header class="navbar navbar-static-top developer-navbar header beta-header">
    <nav class="container pr">
      <a class="logo-link pull-left" href="/">
        <img alt="Leap Motion Developers" class="media-object pull-left white-background" src="../_static/logo.png" />
      </a>
      <span class="inline-block hidden-phone developer-logo-text">
        <div class="text">
          <a href="/">
            <span class="more-than-1199">Developer Portal</span>

          </a>
        </div>
      </span>

      <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <!-- Everything within here will be hidden at 940px or less, accessible via a button. -->
      <div class="nav-collapse">
        <ul class="nav header-navigation developer-links">
          <li class="external-link"><a href="https://developer.leapmotion.com/features">What's new</a> </li>
          <li class="external-link"><a href="https://developer.leapmotion.com/downloads/skeletal-beta" class="">Getting Started</a></li>
          <li><a class="active" href="#" class="">Documentation</a></li>
          <li class="external-link"> <a href="https://developer.leapmotion.com/gallery" class="">Examples</a> </li>
          <li class="external-link"> <a href="https://www.leapmotion.com/blog/category/labs/" class="" target="_blank">Blog <i class='fa fa-external-link'></i></a> </li>
          <li class="external-link"> <a href="https://community.leapmotion.com/category/beta" class="" target="_blank">Community <i class='fa fa-external-link'></i></a> </li>
        </ul>
      </div>

    </nav>
  </header>
</div>
<section class="main-wrap">
  <div data-swiftype-index="true">
    <div class="second_navigation">
      <div class="container">
        <div class="row">
          <div class="col-md-8">
            
              

<ul>
  <li>
      <a href="../../javascript/devguide/Intro_Skeleton_API.html?proglang=javascript" onclick="localStorage['currentAPI'] = 'javascript'">JavaScript</a>
    
  </li>
  <li>
      <a href="../../unity/index.html?proglang=unity" onclick="localStorage['currentAPI'] = 'unity'">Unity</a>
    
  </li>
  <li>
      <a href="../../csharp/devguide/Intro_Skeleton_API.html?proglang=csharp" onclick="localStorage['currentAPI'] = 'csharp'">C#</a>
    
  </li>
  <li>
      <a href="../../cpp/devguide/Intro_Skeleton_API.html?proglang=cpp" onclick="localStorage['currentAPI'] = 'cpp'">C++</a>
    
  </li>
  <li>
      <a href="../../java/devguide/Intro_Skeleton_API.html?proglang=java" onclick="localStorage['currentAPI'] = 'java'">Java</a>
    
  </li>
  <li>
      <a href="../../python/devguide/Intro_Skeleton_API.html?proglang=python" onclick="localStorage['currentAPI'] = 'python'">Python</a>
    
  </li>
  <li>
      <a href="../../objc/devguide/Intro_Skeleton_API.html?proglang=objc" onclick="localStorage['currentAPI'] = 'objc'">Objective-C</a>
    
  </li>
  <li>
      Unreal
    
  </li>
</ul>
            
          </div>
          <div class="col-md-4 search">
            
              <script>
function storeThisPage(){
    sessionStorage["pageBeforeSearch"] = window.location;
    return true;
}
function doneWithSearch(){
    var storedPage = sessionStorage["pageBeforeSearch"];
    if(storedPage){
        window.location = storedPage;
    } else {
        window.location = "index.html"; //fallback
    }
    return false;
}
</script>
<div  style="margin-top:-4px">
<ul style="display:inline; white-space:nowrap"><li>
<form class="navbar-form" action="../search.html" method="get" onsubmit="storeThisPage()">
 <div class="form-group">
  <input type="search" results="5" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form></li>
</ul>
</div>
            
          </div>
        </div>
      </div>
    </div>
    <script>
        //Remove dev portal header and footer when viewing from file system
       if(window.location.protocol == 'file:'){
            var navNode = document.querySelector(".developer-links");
            navNode.parentNode.removeChild(navNode);
        }

    </script>


<div id="wrap" data-spy="scroll" data-target="#sidebar">
  <div class="container">
    <div class="row">
      <div class="col-md-9 pull-right">
        <!-- 
 
<span id="breadcrumbs">
  <a href="../index.html">Home</a>&raquo;
  Introducing the Skeletal Tracking Model
</span> -->
        
  <div class="section" id="introducing-the-skeletal-tracking-model">
<h1>Introducing the Skeletal Tracking Model<a class="headerlink" href="#introducing-the-skeletal-tracking-model" title="Permalink to this headline">¶</a></h1>
<p>Version 2.0 of the Leap Motion API introduces a new skeletal tracking model that provides additional information about hands and fingers and also improves overall tracking data.</p>
<p>By modeling a human hand, the Leap Motion software can better predict the positions of fingers and hands that are not clearly in view. Five fingers are always present for a hand and hands can often cross over each other and still be tracked. Of course, the controller still needs to be able to see a finger or hand in order to accurately report its position. Keep this in mind when designing the interactions used by your application. Avoid requiring complex hand &#8220;poses&#8221; or subtle motions, especially those involving non-extended fingers.</p>
<div class="figure">
<img alt="devguide/../../../images/Visualizer_Hand_Model.png" src="devguide/../../../images/Visualizer_Hand_Model.png" />
<p class="caption">Explore the behavior of the new hand model in the Diagnostic Visualizer</p>
</div>
<p>The API changes are not as dramatic as you might expect and existing API classes still work mostly the same whether or not you use the new features.</p>
<p>The additions include:</p>
<ul class="simple">
<li>Reporting of a confidence rating based on the correlation between the internal hand model and the observed data</li>
<li>Identification of right or left handedness</li>
<li>Identification of digits</li>
<li>Reporting of the position and orientation of each finger bone</li>
<li>Reporting of grip factors indicating whether a user is pinching or grasping</li>
<li>Reporting of five fingers for each hand</li>
<li>Reporting whether a finger is extended or not</li>
</ul>
<p>Perhaps the most significant change for existing applications is the improved persistence of hands and fingers. This should improve the usability of most Leap Motion-enabled apps. However, if you relied on fingers disappearing when curled into the hand or when they touched, then you may have to make some changes. For example, if you count visible fingers or otherwise distinguish between fingers extended outward and those retracted toward the hand, you will have to use the new <a href="#id530"><span class="problematic" id="id531">|Pointable_isExtended|_</span></a> finger properties to know which fingers are extended or not. If, on the other hand, you relied on fingers disappearing when they touched each other, then you will have to establish a minimum distance threshold between the finger tips instead, since the fingers will no longer disappear.</p>
<blockquote>
<div><strong>Note:</strong> Finger.jointPosition() will be removed (in favor of the <tt class="docutils literal"><span class="pre">Bone</span></tt> class) in an upcoming SDK release.</div></blockquote>
<div class="section" id="the-new-tracking-api-in-proglang">
<h2>The new tracking API in Unreal Engine Plugin<a class="headerlink" href="#the-new-tracking-api-in-proglang" title="Permalink to this headline">¶</a></h2>
<p>The API changes in the new tracking model include:</p>
<div class="section" id="hand-class">
<h3>Hand class:<a class="headerlink" href="#hand-class" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a1d2a28f942dc427f3a2cf3aa37f7da8f">Hand.confidence()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1ab276099919561d1b0d49c3cd0e44bd76">Hand.isLeft()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a85f93b21dd887470891f83791c680537">Hand.isRight()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1ac77a53061c20990ea29824cde3b7cf44">Hand.grabStrength()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a1c69f496549d2f413121f2d24af5e54a">Hand.pinchStrength()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a0859c194ec91d182f212e1c455f48e17">Hand.palmWidth()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a4ff50b291a30106f8306ba26d55ada76">Hand.basis()</a></li>
<li><a class="reference external" href="../api/Leap.Hand.html#cppclass_leap_1_1_hand_1a8ff23be7f7e61e29460335123349cef9">Hand.arm()</a></li>
</ul>
<p>Hand.confidence(), a value between 0 and 1, rates how well the internal hand model fits the observed data. A low value indicates that there are significant discrepancies; finger positions, even hand identification could be incorrect. The significance of the confidence value to your application can vary with context. Gestures and motions can be valid even without a high confidence in the hand data. On the other hand, you should make sure the confidence value is high before triggering significant application events based on postures or hand properties.</p>
<p>Hand.isLeft() and isRight() are self explanatory. One of these will always be true. However, the Leap Motion controller needs to see enough of the hand to make an accurate classification. If, for example, you put your closed fist into the controller field of view, the software has very little to go on and may come to the wrong conclusion. If the software realizes it has misclassified a hand, the current hand is replaced with a <tt class="docutils literal"><span class="pre">Hand</span></tt> object having a new ID value (and corrected finger identification).</p>
<p>The Hand.grabStrength() and pinchStrength() properties are values between 0 and 1, indicating whether your hand is in a pinching or grabbing posture. A strength value is close to zero for a hand with flat, extended fingers. For a grab, the strength increases toward 1.0 as you curl your fingers into a fist. For a pinch, the strength increases as you curl the thumb and any finger toward each other. You can use these strength properties to trigger grabs or selections in your application when the value exceeds a certain threshold.</p>
<p>Hand.palmWidth() provides an estimation of the width of the palm when the hand is in a flat position. Hand.basis() is a convenience method for getting the orthonormal basis vectors defining the orientation of the hand. The three vectors in the basis matrix are the palm normal, the hand direction, and the cross product between them.</p>
<p>Hand.arm() provides the information about the forearm to which a hand is attached. The properties of the forearm are estimated based on typical human anatomy when the entire forearm is not in view.</p>
</div>
<div class="section" id="json-data-changes">
<h3>JSON data changes<a class="headerlink" href="#json-data-changes" title="Permalink to this headline">¶</a></h3>
<p>The new tracking model is also reflected in the tracking data supplied via the Leap Motion WebSocket interface. As with the native API, the biggest difference you are likely to notice in existing applications is that hands will always have 5 fingers now.</p>
<p>To access the new API features, use the v6.json endpoint (ws://127.0.0.1:6437/v6.json).</p>
<p>Each hand in the frame hands array has the following new properties:</p>
<ul class="simple">
<li>armWidth &#8211; the average width of the forearm.</li>
<li><a class="reference external" href="../api/Leap.Hand.html?proglang=javascript#Hand.confidence">confidence</a> &#8211; indicates how well the skeleton model and the observed data fit.</li>
<li>elbow &#8211; the position of the elbow of the arm to which the hand is attached</li>
<li><a class="reference external" href="../api/Leap.Hand.html?proglang=javascript#Hand.grabStrength">grabStrength</a> &#8211; a value between 0 and 1.</li>
<li><a class="reference external" href="../api/Leap.Hand.html?proglang=javascript#Hand.pinchStrength">pinchStrength</a> &#8211; a value between 0 and 1.</li>
<li><a class="reference external" href="../api/Leap.Hand.html?proglang=javascript#Hand.type">type</a> &#8211; a string indicating whether the hand is a left or a right hand.</li>
<li>wrist &#8211; the position of the wrist</li>
</ul>
<p>Each finger in the frame pointables array has the following new properties:</p>
<ul class="simple">
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.type">type</a> &#8211; an integer code for the finger name.</li>
<li><a class="reference external" href="../api/Leap.Bone.html?proglang=javascript#Bone.basis">bases</a> &#8211; the basis vectors for each bone, in index order (wrist to tip).</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.btipPosition">btipPosition</a> &#8211; position of the extreme end of the distal phalanx as an array of 3 floating point numbers.</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.carpPostion">carpPosition</a> &#8211; position of the base of metacarpal bone as an array of 3 floating point numbers.</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.dipPosition">dipPosition</a> &#8211; position of the base of the distal phalanx as an array of 3 floating point numbers.</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.pipPosition">pipPosition</a> &#8211; a position vector as an array of 3 floating point numbers</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.mcpPosition">mcpPosition</a> &#8211; a position vector as an array of 3 floating point numbers</li>
<li><a class="reference external" href="../api/Leap.Finger.html?proglang=javascript#Finger.extended">extended</a> &#8211; a boolean indicating whether the finger is pointing or not.</li>
</ul>
</div>
</div>
</div>


           <!-- get_disqus_sso -->
      </div>
      <div id="sidebar" class="col-md-3">
        <div class="well-sidebar" data-offset-top="188">
          <ul>
            <li><a href="../index.html" title="Home">Unreal Docs (v2.3)</a></li>
          </ul><ul>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_Overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_Using_Plugin.html">Using the Leap Motion Unreal Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_CollisionsDemo.html">Tutorial: The Collisions Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_BP_CustomControllerDemo.html">Tutorial: The Custom Controller Demo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_Cpp_Tutorial.html">Tutorial: Using the Leap Motion API in Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_BluePrints.html">Blueprint Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal/Leap_Unreal_Classes.html">C++ Class Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Leap_Guides.html">Application Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../supplements/Leap_Supplements.html">Appendices</a></li>
</ul>


        </div>
      </div>
        
    </div>
  </div>
</div>
<!--


<footer>
  <div id="footer" class="container">
    <div class="container">
      <div class="copyright">
        <span>Copyright &copy; 2012 - 2014, Leap Motion, Inc.</span>
      </div>
    </div>
  </div>
</footer>
  </body>
</html>